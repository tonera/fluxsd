import{_ as m}from"./AppLayout-CPB6HPa2.js";import{p as v,B as h,o,c as p,w as n,a as s,d as c,g as x,f as u,t as l,F as S}from"./app-BhLU5N_l.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TopSnackbar-Chx_hlEP.js";const E=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Dashboard ",-1),f={class:"py-12"},w={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},k={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},b={class:"flex"},y={class:"text-xs"},C="channel_for_everyone",T={__name:"Test",setup(B){const r=v([]);var t=null;const d=()=>{window.Echo.private(C).listen("GotMessage",async e=>{console.log("e.message =",e.message)})};h(()=>{});const i=()=>{t=new EventSource("/api/download/progress"),t.addEventListener("open",e=>{console.log("Connection opened")}),t.addEventListener("message",e=>{console.log("Data: "+e.data)}),t.addEventListener("error",e=>{console.log("Error: "+e.message)}),t.addEventListener("notice",e=>{console.log("Notice: "+e.data)})},_=()=>{t.close()};return(e,L)=>(o(),p(m,{title:"Dashboard"},{header:n(()=>[E]),default:n(()=>[s("div",f,[s("div",w,[s("div",k,[s("div",{class:"btn",onClick:d},"连接task"),s("div",{class:"btn",onClick:i},"连接SSE"),s("div",{class:"btn",onClick:_},"关闭SSE"),(o(!0),c(S,null,x(r,(a,g)=>(o(),c("div",{key:g},[s("div",b,[u(l(a.text)+" ",1),s("div",y,l(a.created_at),1)])]))),128))])])])]),_:1}))}};export{T as default};
